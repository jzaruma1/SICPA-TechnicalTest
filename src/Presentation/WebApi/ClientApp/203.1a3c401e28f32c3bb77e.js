"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[203],{7203:(rt,c,i)=>{i.r(c),i.d(c,{EnterpriseModule:()=>tt});var u=i(8583),p=i(4655),a=i(3679),t=i(7716),f=i(1728),v=i(7001),m=i(5618),g=i(1095),Z=i(8030),h=i(6627),d=i(8295),A=i(9983),C=i(5396);function q(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field required. "),t.qZA())}function E(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field required. "),t.qZA())}function y(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field required. "),t.qZA())}const L=function(){return["/enterprises"]};let T=(()=>{class e{constructor(n,o,s,et,nt){this.enterpriseService=n,this.route=o,this.fb=s,this.router=et,this.snackBar=nt}ngOnInit(){this.initForm(),this.entityId=this.route.snapshot.paramMap.get("id"),this.entityId&&this.loadRecord()}loadRecord(){this.enterpriseService.get(this.entityId).subscribe(n=>{n.result&&(this.entity=n.result,this.form.patchValue(this.entity,{emitEvent:!1}))})}initForm(){this.form=this.fb.group({id:[0],name:["",a.kI.required],address:["",a.kI.required],phone:["",a.kI.required],status:[!0,a.kI.required],createdBy:[""],modifiedBy:[""],departmentNames:[""]})}save(){this.form.valid?(this.entityId?this.enterpriseService.update(this.form.getRawValue(),this.entityId):this.enterpriseService.add(this.form.getRawValue())).subscribe(o=>{o&&(this.snackBar.open(`Enterprise ${this.entityId?"updated":"saved"}!!`,"Ok"),this.router.navigateByUrl("/enterprises"))}):this.snackBar.open("Complete the required fields.","Ok")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.o),t.Y36(p.gz),t.Y36(a.qu),t.Y36(p.F0),t.Y36(v.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-enterprise-detail"]],decls:45,vars:7,consts:[[1,"h-full","flex","flex-col","overflow-hidden"],[1,"flex","flex-col","p-5"],["fxLayout","row"],["fxFlex","30","fxLayoutAlign","start center ",1,"font-bold","text-2xl"],["fxFlex","auto","fxLayoutAlign","end center","fxLayoutGap","5px"],["mat-raised-button","","ngClass.md","order-5","ngClass.xs","order-1","color","accent",3,"routerLink"],[1,"flex-grow","flex","flex-col","overflow-auto"],[1,"flex-grow","overflow-auto","relative"],[1,"w-full","space-x-5"],[3,"formGroup","ngSubmit"],[1,"w-full","mt-4","p-5","md:p-10"],[1,"grid","grid-cols-2","gap-3"],[1,"w-full","tight-custom"],["autocomplete","off","matInput","","formControlName","name"],[4,"ngIf"],["autocomplete","off","matInput","","formControlName","address"],["autocomplete","off","maxlength","10","matInput","","formControlName","phone"],["fxLayoutAlign","start center"],["color","primary","formControlName","status",1,"example-margin"],["fxFlex","","fxLayoutAlign","center center"],["mat-raised-button","","fxFlex","10","fxFlex.xs","40","color","primary"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"button",5),t.TgZ(7,"mat-icon"),t._uU(8,"keyboard_backspace"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"form",9),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(15,"div",10),t.TgZ(16,"div",11),t.TgZ(17,"div"),t.TgZ(18,"mat-form-field",12),t.TgZ(19,"mat-label"),t._uU(20,"Name"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,q,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(23,"div"),t.TgZ(24,"mat-form-field",12),t.TgZ(25,"mat-label"),t._uU(26,"Address"),t.qZA(),t._UZ(27,"input",15),t.YNc(28,E,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(29,"div"),t.TgZ(30,"mat-form-field",12),t.TgZ(31,"mat-label"),t._uU(32,"Phone"),t.qZA(),t._UZ(33,"input",16),t.YNc(34,y,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(35,"div",17),t.TgZ(36,"mat-slide-toggle",18),t._uU(37," Status "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",2),t.TgZ(39,"div",19),t.TgZ(40,"button",20),t.TgZ(41,"mat-icon"),t._uU(42,"save"),t.qZA(),t.TgZ(43,"span"),t._uU(44,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(4),t.hij(" ",o.entityId?"Edit ":"New ","Enterprise "),t.xp6(2),t.Q6J("routerLink",t.DdM(6,L)),t.xp6(8),t.Q6J("formGroup",o.form),t.xp6(8),t.Q6J("ngIf",o.form.controls.name.hasError("required")),t.xp6(6),t.Q6J("ngIf",o.form.controls.address.hasError("required")),t.xp6(6),t.Q6J("ngIf",o.form.controls.phone.hasError("required")))},directives:[m.xw,m.yH,m.Wh,m.SQ,g.lW,Z.oO,p.rH,h.Hw,a._Y,a.JL,a.sg,d.KE,d.hX,A.Nt,a.Fj,a.JJ,a.u,u.O5,a.nD,C.Rr,d.TO],encapsulation:2}),e})();var x=i(9692),U=i(4402),N=i(5917),D=i(3190),l=i(2789),_=i(1769),I=i(1436);function w(e,r){1&e&&(t.TgZ(0,"th",21),t._uU(1," Name "),t.qZA())}function Y(e,r){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function Q(e,r){1&e&&(t.TgZ(0,"th",21),t._uU(1," Address "),t.qZA())}function S(e,r){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.address," ")}}function J(e,r){1&e&&(t.TgZ(0,"th",21),t._uU(1," Phone "),t.qZA())}function B(e,r){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.hij(" ",n.phone," ")}}function F(e,r){1&e&&(t.TgZ(0,"th",21),t._uU(1," Departments "),t.qZA())}function b(e,r){if(1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"button",23),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&e){const n=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("matTooltip",o.getTooltip(n)),t.xp6(2),t.hij(" ",o.getTooltipCount(n)," ")}}function M(e,r){1&e&&(t.TgZ(0,"th",21),t._uU(1," Status "),t.qZA())}function O(e,r){1&e&&(t.TgZ(0,"mat-icon",26),t._uU(1,"check_circle"),t.qZA())}function R(e,r){if(1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"span",24),t.YNc(2,O,2,0,"mat-icon",25),t.qZA(),t.qZA()),2&e){const n=r.$implicit;t.oxw();const o=t.MAs(37);t.xp6(1),t.Q6J("matTooltip",n.status?"Enabled":"Disabled"),t.xp6(1),t.Q6J("ngIf",n.status)("ngIfElse",o)}}function j(e,r){1&e&&(t.TgZ(0,"th",21),t._uU(1," Opcion "),t.qZA())}const k=function(e){return["/enterprises","edit",e]};function H(e,r){if(1&e&&(t.TgZ(0,"td",22),t.TgZ(1,"span",27),t.TgZ(2,"mat-icon",26),t._uU(3,"edit"),t.qZA(),t.qZA(),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,k,n.id))}}function z(e,r){1&e&&t._UZ(0,"tr",28)}function W(e,r){1&e&&t._UZ(0,"tr",29)}function $(e,r){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"highlight_off"),t.qZA())}const G=function(){return["/enterprises","new"]},V=function(){return[10,50,100]},X=[{path:"",component:(()=>{class e{constructor(n){this.enterpriseService=n,this.displayedColumns=["name","address","phone","departments","status","option"],this.dataSource=[],this.records=10}ngOnInit(){this.loadItems(),(0,U.D)(this.paginator.page).pipe((0,D.w)(()=>(this.loadItems(this.paginator.pageSize,this.paginator.pageIndex+1),(0,N.of)(null)))).subscribe()}loadItems(n=10,o=1){this.enterpriseService.getAll(n,o).subscribe(s=>{s&&s.result&&s.result.results&&(this.dataSource=s.result.results,this.records=s.result.rowCount)})}getTooltipCount(n){var o;return n.departmentNames.length?null===(o=n.departmentNames.split(","))||void 0===o?void 0:o.length:0}getTooltip(n){return n.departmentNames.length?n.departmentNames.split(",").join(" - "):""}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.o))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-enterprise-list"]],viewQuery:function(n,o){if(1&n&&t.Gf(x.NW,7),2&n){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:38,vars:8,consts:[[1,"h-full","flex","flex-col","overflow-hidden"],[1,"flex","flex-col","p-5"],["fxLayout","row"],["fxFlex","30","fxLayoutAlign","start center ",1,"font-bold","text-2xl"],["fxFlex","auto","fxLayoutAlign","end center"],["mat-raised-button","","ngClass.md","order-5","ngClass.xs","order-1","color","primary",3,"routerLink"],[1,"flex-grow","flex","flex-col","overflow-auto"],[1,"flex-grow","overflow-auto","relative"],["mat-table","",1,"mat-elevation-z8","min-w-full","w-fit",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","phone"],["matColumnDef","departments"],["matColumnDef","status"],["matColumnDef","option"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSizeOptions"],["noCheck",""],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","",3,"matTooltip"],[3,"matTooltip"],["color","primary",4,"ngIf","ngIfElse"],["color","primary"],[1,"cursor-pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4," Enterprises "),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"button",5),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"table",8),t.ynx(14,9),t.YNc(15,w,2,0,"th",10),t.YNc(16,Y,2,1,"td",11),t.BQk(),t.ynx(17,12),t.YNc(18,Q,2,0,"th",10),t.YNc(19,S,2,1,"td",11),t.BQk(),t.ynx(20,13),t.YNc(21,J,2,0,"th",10),t.YNc(22,B,2,1,"td",11),t.BQk(),t.ynx(23,14),t.YNc(24,F,2,0,"th",10),t.YNc(25,b,4,2,"td",11),t.BQk(),t.ynx(26,15),t.YNc(27,M,2,0,"th",10),t.YNc(28,R,3,3,"td",11),t.BQk(),t.ynx(29,16),t.YNc(30,j,2,0,"th",10),t.YNc(31,H,4,3,"td",11),t.BQk(),t.YNc(32,z,1,0,"tr",17),t.YNc(33,W,1,0,"tr",18),t.qZA(),t.qZA(),t._UZ(34,"mat-divider"),t._UZ(35,"mat-paginator",19),t.qZA(),t.qZA(),t.YNc(36,$,2,0,"ng-template",null,20,t.W1O)),2&n&&(t.xp6(6),t.Q6J("routerLink",t.DdM(6,G)),t.xp6(7),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("length",o.records)("pageSizeOptions",t.DdM(7,V)))},directives:[m.xw,m.yH,m.Wh,g.lW,Z.oO,p.rH,h.Hw,l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,_.d,x.NW,l.ge,l.ev,I.gM,u.O5,l.XQ,l.Gk],encapsulation:2}),e})()},{path:"new",component:T},{path:"edit/:id",component:T}];let K=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(X)],p.Bz]}),e})();var P=i(3887);let tt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,K,P.m]]}),e})()}}]);