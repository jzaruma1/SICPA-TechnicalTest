"use strict";(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[812],{7812:(Zt,c,r)=>{r.r(c),r.d(c,{EmployeeModule:()=>ft});var u=r(8583),s=r(4655),a=r(3679),t=r(7716),x=r(1841);let d=(()=>{class e{constructor(o){this.http=o}getAll(o=10,i=1){return this.http.get(`api/employee?size=${o}&page=${i}`)}get(o){return this.http.get(`api/employee/${o}`)}add(o){return this.http.post("api/employee",o)}update(o,i){return this.http.put(`api/employee/${i}`,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(x.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=r(7001),v=r(834),p=r(5618),g=r(1095),Z=r(8030),h=r(6627),f=r(8295),q=r(9983),C=r(7441),E=r(5396),_=r(2458);function U(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field requiredo. "),t.qZA())}function N(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field requiredo. "),t.qZA())}function L(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field requiredo. "),t.qZA())}function D(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field requiredo. "),t.qZA())}function I(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field requiredo. "),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.name," ")}}function S(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Field requiredo. "),t.qZA())}const Q=function(){return["/employees"]};let y=(()=>{class e{constructor(o,i,l,ct,dt,gt){this.employeeService=o,this.route=i,this.fb=l,this.router=ct,this.snackBar=dt,this.departmentService=gt}ngOnInit(){this.initForm(),this.initData(),this.entityId=this.route.snapshot.paramMap.get("id"),this.entityId&&this.loadRecord()}loadRecord(){this.employeeService.get(this.entityId).subscribe(o=>{o.result&&(this.entity=o.result,this.form.patchValue(this.entity,{emitEvent:!1}))})}initData(){this.departmentService.getAll(1e3,1).subscribe(o=>{o&&o.result&&o.result.results&&(this.departments=o.result.results)})}initForm(){this.form=this.fb.group({id:[0],name:["",a.kI.required],surname:["",a.kI.required],email:["",a.kI.required],position:["",a.kI.required],age:["",a.kI.required],status:[!0,a.kI.required],departments:new a.NI("",a.kI.required),createdBy:[""],modifiedBy:[""],departmentNames:[""]})}save(){this.form.valid?(this.entityId?this.employeeService.update(this.form.getRawValue(),this.entityId):this.employeeService.add(this.form.getRawValue())).subscribe(i=>{i&&(this.snackBar.open(`Employee ${this.entityId?"updated":"saved"}!!`,"Ok"),this.router.navigateByUrl("/employees"))}):this.snackBar.open("Complete the required fields.","Ok")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d),t.Y36(s.gz),t.Y36(a.qu),t.Y36(s.F0),t.Y36(A.ux),t.Y36(v.n))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-employee-detail"]],decls:64,vars:11,consts:[[1,"h-full","flex","flex-col","overflow-hidden"],[1,"flex","flex-col","p-5"],["fxLayout","row"],["fxFlex","30","fxLayoutAlign","start center ",1,"font-bold","text-2xl"],["fxFlex","auto","fxLayoutAlign","end center","fxLayoutGap","5px"],["mat-raised-button","","ngClass.md","order-5","ngClass.xs","order-1","color","accent",3,"routerLink"],[1,"flex-grow","flex","flex-col","overflow-auto"],[1,"flex-grow","overflow-auto","relative"],[1,"w-full","space-x-5"],[3,"formGroup","ngSubmit"],[1,"w-full","mt-4","p-5","md:p-10"],[1,"grid","grid-cols-2","gap-3"],[1,"w-full","tight-custom"],["autocomplete","off","matInput","","formControlName","name"],[4,"ngIf"],["autocomplete","off","matInput","","formControlName","surname"],["autocomplete","off","matInput","","formControlName","email"],["autocomplete","off","matInput","","formControlName","position"],["autocomplete","off","type","number","matInput","","formControlName","age"],["formControlName","departments","placeholder","Select","multiple",""],[3,"value",4,"ngFor","ngForOf"],["fxLayoutAlign","start center"],["color","primary","formControlName","status",1,"example-margin"],["fxFlex","","fxLayoutAlign","center center"],["mat-raised-button","","fxFlex","10","fxFlex.xs","40","color","primary"],[3,"value"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"button",5),t.TgZ(7,"mat-icon"),t._uU(8,"keyboard_backspace"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"div",8),t.TgZ(14,"form",9),t.NdJ("ngSubmit",function(){return i.save()}),t.TgZ(15,"div",10),t.TgZ(16,"div",11),t.TgZ(17,"div"),t.TgZ(18,"mat-form-field",12),t.TgZ(19,"mat-label"),t._uU(20,"Name"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,U,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(23,"div"),t.TgZ(24,"mat-form-field",12),t.TgZ(25,"mat-label"),t._uU(26,"Surname"),t.qZA(),t._UZ(27,"input",15),t.YNc(28,N,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(29,"div"),t.TgZ(30,"mat-form-field",12),t.TgZ(31,"mat-label"),t._uU(32,"Email"),t.qZA(),t._UZ(33,"input",16),t.YNc(34,L,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(35,"div"),t.TgZ(36,"mat-form-field",12),t.TgZ(37,"mat-label"),t._uU(38,"Position"),t.qZA(),t._UZ(39,"input",17),t.YNc(40,D,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(41,"div"),t.TgZ(42,"mat-form-field",12),t.TgZ(43,"mat-label"),t._uU(44,"Age"),t.qZA(),t._UZ(45,"input",18),t.YNc(46,I,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(47,"div"),t.TgZ(48,"mat-form-field",12),t.TgZ(49,"mat-label"),t._uU(50,"Departments"),t.qZA(),t.TgZ(51,"mat-select",19),t.YNc(52,Y,2,2,"mat-option",20),t.qZA(),t.YNc(53,S,2,0,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(54,"div",21),t.TgZ(55,"mat-slide-toggle",22),t._uU(56," Status "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"div",2),t.TgZ(58,"div",23),t.TgZ(59,"button",24),t.TgZ(60,"mat-icon"),t._uU(61,"save"),t.qZA(),t.TgZ(62,"span"),t._uU(63,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.hij(" ",i.entityId?"Edit ":"New ","Employee "),t.xp6(2),t.Q6J("routerLink",t.DdM(10,Q)),t.xp6(8),t.Q6J("formGroup",i.form),t.xp6(8),t.Q6J("ngIf",i.form.controls.name.hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.controls.surname.hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.controls.email.hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.controls.position.hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.controls.age.hasError("required")),t.xp6(6),t.Q6J("ngForOf",i.departments),t.xp6(1),t.Q6J("ngIf",i.form.controls.departments.hasError("required")))},directives:[p.xw,p.yH,p.Wh,p.SQ,g.lW,Z.oO,s.rH,h.Hw,a._Y,a.JL,a.sg,f.KE,f.hX,q.Nt,a.Fj,a.JJ,a.u,u.O5,a.wV,C.gD,u.sg,E.Rr,f.TO,_.ey],encapsulation:2}),e})();var T=r(9692),w=r(4402),F=r(5917),J=r(3190),m=r(2789),B=r(1769),b=r(1436);function O(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function M(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function R(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Surname "),t.qZA())}function $(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.surname," ")}}function j(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Email "),t.qZA())}function k(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.email," ")}}function z(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Position "),t.qZA())}function H(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.position," ")}}function G(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Age "),t.qZA())}function W(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.age," ")}}function V(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Departments "),t.qZA())}function X(e,n){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"button",25),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA(),t.qZA()),2&e){const o=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("matTooltip",i.getTooltip(o)),t.xp6(2),t.hij(" ",i.getTooltipCount(o)," ")}}function K(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Status "),t.qZA())}function P(e,n){1&e&&(t.TgZ(0,"mat-icon",28),t._uU(1,"check_circle"),t.qZA())}function tt(e,n){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span",26),t.YNc(2,P,2,0,"mat-icon",27),t.qZA(),t.qZA()),2&e){const o=n.$implicit;t.oxw();const i=t.MAs(43);t.xp6(1),t.Q6J("matTooltip",o.status?"Enabled":"Disabled"),t.xp6(1),t.Q6J("ngIf",o.status)("ngIfElse",i)}}function et(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Opcion "),t.qZA())}const ot=function(e){return["/employees","edit",e]};function nt(e,n){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span",29),t.TgZ(2,"mat-icon",28),t._uU(3,"edit"),t.qZA(),t.qZA(),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,ot,o.id))}}function it(e,n){1&e&&t._UZ(0,"tr",30)}function rt(e,n){1&e&&t._UZ(0,"tr",31)}function at(e,n){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"highlight_off"),t.qZA())}const lt=function(){return["/employees","new"]},mt=function(){return[10,50,100]},pt=[{path:"",component:(()=>{class e{constructor(o){this.employeeService=o,this.displayedColumns=["name","surname","email","position","age","departments","status","option"],this.dataSource=[],this.records=10}ngOnInit(){this.loadItems(),(0,w.D)(this.paginator.page).pipe((0,J.w)(()=>(this.loadItems(this.paginator.pageSize,this.paginator.pageIndex+1),(0,F.of)(null)))).subscribe()}loadItems(o=10,i=1){this.employeeService.getAll(o,i).subscribe(l=>{l&&l.result&&l.result.results&&(this.dataSource=l.result.results,this.records=l.result.rowCount)})}getTooltipCount(o){var i;return o.departmentNames.length?null===(i=o.departmentNames.split(","))||void 0===i?void 0:i.length:0}getTooltip(o){return o.departmentNames.length?o.departmentNames.split(",").join(" - "):""}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-employee-list"]],viewQuery:function(o,i){if(1&o&&t.Gf(T.NW,7),2&o){let l;t.iGM(l=t.CRH())&&(i.paginator=l.first)}},decls:44,vars:8,consts:[[1,"h-full","flex","flex-col","overflow-hidden"],[1,"flex","flex-col","p-5"],["fxLayout","row"],["fxFlex","30","fxLayoutAlign","start center ",1,"font-bold","text-2xl"],["fxFlex","auto","fxLayoutAlign","end center"],["mat-raised-button","","ngClass.md","order-5","ngClass.xs","order-1","color","primary",3,"routerLink"],[1,"flex-grow","flex","flex-col","overflow-auto"],[1,"flex-grow","overflow-auto","relative"],["mat-table","",1,"mat-elevation-z8","min-w-full","w-fit",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","surname"],["matColumnDef","email"],["matColumnDef","position"],["matColumnDef","age"],["matColumnDef","departments"],["matColumnDef","status"],["matColumnDef","option"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSizeOptions"],["noCheck",""],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","",3,"matTooltip"],[3,"matTooltip"],["color","primary",4,"ngIf","ngIfElse"],["color","primary"],[1,"cursor-pointer",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4," Employees "),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"button",5),t.TgZ(7,"mat-icon"),t._uU(8,"add"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Add"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"div",7),t.TgZ(13,"table",8),t.ynx(14,9),t.YNc(15,O,2,0,"th",10),t.YNc(16,M,2,1,"td",11),t.BQk(),t.ynx(17,12),t.YNc(18,R,2,0,"th",10),t.YNc(19,$,2,1,"td",11),t.BQk(),t.ynx(20,13),t.YNc(21,j,2,0,"th",10),t.YNc(22,k,2,1,"td",11),t.BQk(),t.ynx(23,14),t.YNc(24,z,2,0,"th",10),t.YNc(25,H,2,1,"td",11),t.BQk(),t.ynx(26,15),t.YNc(27,G,2,0,"th",10),t.YNc(28,W,2,1,"td",11),t.BQk(),t.ynx(29,16),t.YNc(30,V,2,0,"th",10),t.YNc(31,X,4,2,"td",11),t.BQk(),t.ynx(32,17),t.YNc(33,K,2,0,"th",10),t.YNc(34,tt,3,3,"td",11),t.BQk(),t.ynx(35,18),t.YNc(36,et,2,0,"th",10),t.YNc(37,nt,4,3,"td",11),t.BQk(),t.YNc(38,it,1,0,"tr",19),t.YNc(39,rt,1,0,"tr",20),t.qZA(),t.qZA(),t._UZ(40,"mat-divider"),t._UZ(41,"mat-paginator",21),t.qZA(),t.qZA(),t.YNc(42,at,2,0,"ng-template",null,22,t.W1O)),2&o&&(t.xp6(6),t.Q6J("routerLink",t.DdM(6,lt)),t.xp6(7),t.Q6J("dataSource",i.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("length",i.records)("pageSizeOptions",t.DdM(7,mt)))},directives:[p.xw,p.yH,p.Wh,g.lW,Z.oO,s.rH,h.Hw,m.BZ,m.w1,m.fO,m.Dz,m.as,m.nj,B.d,T.NW,m.ge,m.ev,b.gM,u.O5,m.XQ,m.Gk],encapsulation:2}),e})()},{path:"new",component:y},{path:"edit/:id",component:y}];let st=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.Bz.forChild(pt)],s.Bz]}),e})();var ut=r(3887);let ft=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,ut.m,st]]}),e})()}}]);